[背景音乐]
翻译: RyukaSuu |审阅: 19waa
Coursera Global Translator Community 当我们将数据组成图来可视化时 我们很可能想把它
摆放在一个平面上 有一种类型的图可以做到这点
它被称为平面图（planner graph） 如之前所看到的 我们要
将数据项表示为节点 而节点间的边将表示那些数据项间的关系 在某些情况下 我们会用到一个图
例如一个平面图 可以这样画一个平面图
让连接节点边都不相交 这被称为平面嵌入（planar embedding） 同样一个平面图 在这个例子中 同样的外部节点
由相同的5条边连接起来 在这个非平面嵌入的例子中
这些边是相交的 所以 相同的图
它们两个都是平面图 我们希望做的是
能够找到这种嵌入 即排布那些节点的方式
使这些边不相交 这样 对观察者来说
节点间的关系将会更清晰 于是，我们可以这样做。 对于非常大的图 我们也可以这样做 例如 有一个三角形网格
它表示了一个几何物体 因为它是一个三角网格
所以顶点是节点 而三角形的边
构成了节点间的边 这个图 一个有5万个节点的大图
不是一个平面图 但是 如果我直接将其剪开
表面会被分开 而边就有重复了 若沿着这些黑线把它们剪开
我就可以把它转换成一个平面图 于是 作为一个平面图 接下来我可以找到
一个方式 将其嵌入到一个平面 使得那些边不会交叉 这个图中有很多节点和很多边 很难看到所有的边
所以相信我 它们没有相交 希望你将处理的节点和边较少 这样你的排布
会比这个稍微清晰一些 有一个方法使我们能
自动找到这些嵌入 它被称为Tutte 方法
一开始 它挑选你的节点中的一部分 并且定义它们在排布中
应放在哪里 在这个例子中 我将用组成一个方块的
8个节点和12条边 我将首先选择
这四个节点 我要为它们在这个
示例中的SVG画布上选定位置 我将把节点1放在 (0,0) 节点2放在 (1,0) 节点3放在 (0,1) 节点4放在 (1,1) 然后 我将试图弄清楚
我应把节点5，6，7和8放在哪里 以便生成这个图的一个平面嵌入 这个图被显示为一个非平面嵌入 因为这里有边相互交叉 我们希望找出如何
生成它的一个平面嵌入 为了对任何图都能
自动做到这一点 我们将需要
求解一个线性系统 所以 我们会建立一个矩阵 实际上 是一个相邻矩阵（adjacency matrix） 一种特殊的相邻矩阵
称为拉普拉斯矩阵（Laplacian matrix） 它是一个相邻矩阵 其含义是 在节点1和节点2相连接的情况下
我要将一个节点放到另一个节点那里 于是在第一行第二列
我会得到一个非零矩阵元素 在这个例子中，这个非零元素
将会是1除以其关联度 节点1的关联度是3 它有三条边从其延展出去
所以我会在这里填入1/3 也就是 节点1和节点2 3 5相连 于是我将把1/3填入第二列
第三列 以及 第五列 节点 1 与其它节点都不相连 所以 在那些节点所在的列
包括节点 1 的列 我将填入零 一个相临矩阵其拉普拉斯形式的美妙之处 在于 就节点1来说 我连接到三个节点 我的关联度是3 我填入的值是 1 除以关联度 所以 如果我把第一列所有元素
加在一起 我得到的是1 我们要从那个拉布拉斯临接矩阵
建立一个特殊的 矩阵。 我们会姑且称这个矩阵为A 我要做的第一件事情是
我要用那个拉普拉斯矩阵 我将在所有行中
把已经赋值的节点置成零 我已经为节点1 2 3和4设定一个位置 我将在我的相临矩阵中
把它们设置为零 再将整体减去单位矩阵 单位矩阵是
在对角线元素取值为 1 而其它都为零 这样我就需要求解该矩阵A 以便为节点5 6 7和8
找到放置的位置 所以 我需要建立一个线性系统 我们会为我们的节点
的 x 坐标建立一个线性系统 然后 我们会为 y 坐标
建立一个单独的线性系统 我们为 x 坐标所使用
的线性系统看起来像这样 这是我的矩阵A 其与 x 相乘 一个列向量 也就是那些节点的 x 坐标 最后就是我的答案
即 前四个节点的 x 坐标 实际上应该是什么 以及
要求解的那些节点的零值 就是说 1 乘以 x1
节点 1 的 x 坐标 1 乘以 x1
且 0 乘以其它任何项等于 0 因为那是我设置过的节点 所以这里我有了节点 0
节点 1 节点 2 节点 3 这些是节点 1 节点 2 节点 3
和节点 4 的 x 坐标 这第二行 这里是1 1 乘以 x2 等于 1 那么
节点 2 的一个设定的 x 坐标是 1 于是 这就是我放入
这个列向量bx 的开始几个元素的值
而剩下的元素都是零 这里的美妙之处在于
如果我们看一下第五行 第五行的意思是
节点 5 的 x 坐标 x5 1 乘以 x5 年减去 1/3 乘以 x1 减去 1/3 乘以 x6 减去 1/3 乘以 x7
将会等于零 这本质上建立了
一个线性等式 以至于 无论我将节点 6 和 7 放在哪里
它们都将影响到节点 5 一旦我们这样对第5 6 7和 8 行操作
即对应着节点 5 6 7 和 8 那么当我们求解出这个系统的时候
我们能会得到 能解算出这个关系的节点 5 6 7 和 8 的位置 对于 y 坐标做同样的计算 现在，我的 by 列向量等于
是我已经摆放的节点 1、2 3 和 4 的 y 坐标 然后
将其它所有元素都赋值为零 节点 1 的 y 坐标是 0 节点 2 的 y 坐标是 0 节点 3 的 y 坐标是 1
节点 4 的 y 坐标是 1 这实质上是说
y1 = 0, y2 = 0, y3 = 1, y4 = 1 但是 对于节点 5 的 y 坐标 无论节点 5 的坐标是多少
它等于负的 1/3乘以 节点 1 的 y 坐标 减去
1/3 的节点 6 的 y 坐标 再减去 1/3 节点 7 的 y 坐标
以及如此对剩下的节点推选下去 于是 我本质上对 x 系统
建立起了这些等式 我说过 x1 等于 0 x2等于 1
x3 等于 0 并且 x4 等于 1 然后 我对剩余节点的 x 坐标
建立起了这些等式 对于 y 坐标
我建立了类似的等式 所以 如果我把这些放在一起
我实际上把节点 1 的 x1 和 y1 在 xy 坐标系中放在了(0, 0)
节点 2 放在(1, 0) 节点 3 在 (0, 1)
节点 4 在 (1, 1) 并且 我对剩余的坐标已经
建立了这些关系 现在 你或许注意到了什么 我实际上在说 对于节点 5
它将是节点 1 的位置 加上节点 6 的位置 加上节点 7 的位置
其后再除以 3 本质上来说 每一个节点的位置
都将会是其有共享边的 邻居节点位置的平均值
并且这个关系对所有 剩余节点来说都是正确的 所以 我们固定这个位置
我们为我们的节点中 一些节点设定位置
然后剩余的节点就 会被设定为与其相连节点
的位置的平均值 于是 如果我求解了那个系统 如果
我求解了那个线性系统 你可以使用任何 你喜欢的数值方法求解那个
矩阵问题 你就得到了答案 所以 节点 5 在 (1/3, 1/3) 节点 6 在 (2/3, 1/3) 节点 7 在 (1/3, 2/3) 而
节点 8 在 (2/3, 2/3) 于是 这些节点中的每一个最终
是在平均位置 节点 5 的位置 等于节点 1, 6 和 7 位置的平均
即它们的中心 所以 我取节点 1 加上 节点 6的位置
加上节点 7 的位置 除以 3 我的到节点 5 的位置 所以 我们求解出
节点5、6、7 以及 节点 8 的位置 通过求解一个矩阵问题
即为这里显示的一个非平面嵌入的图 找到了这个平面表示 你并非必须求解一个矩阵
来达到这个目的 你可以通过下面的方法做到同样的事情
实际上从你的节点 1、2 3、4 的固定位置开始 然后
对所有剩余的节点 你可以赋予它们随机位置作为开始
然后再迭代的 用它们邻居节点位置的平均
替换那些节点的位置 如果你继续地
用其邻居节点位置 的平均位置
替换每一个节点的位置 那些节点将会逐渐移动到
它们所应该在到位置 如此 你可以求解这个系统
但不需要建立一个矩阵 而只是通过持续不断地
进行这一迭代过程 移动每一个节点到
其邻居节点到平均位置 所以 Tutte的算法告诉我们
我们可以通过求解一个线性系统 来实现嵌入一个平面图
但这个并不是那么困难 以可以通过确定
你的一些节点到 固定位置
而实现完全相同的事情 然后 剩下的节点 你只要用它们的邻居节点的平均值来代替 即那些和那个节点共享一条边的节点 如果你一遍又一遍地持续这样做
那些节点会慢慢到达 与Tutte算法将收敛到的位置
完全相同的位置 [背景音乐]
翻译: RyukaSuu |审阅: 19waa
Coursera Global Translator Community